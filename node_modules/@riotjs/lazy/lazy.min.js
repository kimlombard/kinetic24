!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("riot")):"function"==typeof define&&define.amd?define(["riot"],e):(t=t||self).rawth=e(t.riot)}(this,(function(t){"use strict";const e=new WeakMap;function n(t,e){return{name:"lazy",exports:n.export(t,e)}}return n.cache=e,n.export=function(n,o){const s=n&&o,i=s?o:n,u=e.get(i);return t.pure(o=>{let{slots:p,attributes:r,props:c}=o;return{mount(t,o){this.el=t,this.isMounted=!0;const p=()=>this.mountLazyComponent(o);u?p():(s&&this.createManagedComponent(n,o),("function"==typeof i?i():Promise.resolve(i)).then(t=>{e.set(i,t.default||t),p()}))},createManagedComponent(e,n){this.component=t.component(e)(this.el,c,{attributes:r,slots:p,parentScope:n})},mountLazyComponent(t){this.isMounted&&(this.component&&this.component.unmount(!0),this.createManagedComponent(e.get(i),t))},update(t){this.isMounted&&this.component&&this.component.update({},t)},unmount(){this.isMounted=!1,this.component&&this.component.unmount(...arguments)}}})},n}));
